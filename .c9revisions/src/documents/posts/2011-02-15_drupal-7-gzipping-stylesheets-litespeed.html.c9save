{"ts":1375106257985,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"---\nlayout: post\ntitle: 'Drupal 7: gzipping stylesheets on LiteSpeed'\ntags:\n- Blog\n- drupal\n- performance\nstatus: publish\ntype: post\npublished: true\nmeta:\n  _edit_last: '1'\n  _responsive_layout: default\n  _wp_old_slug: marco\n  _yoast_wpseo_linkdex: '0'\n  _yoast_wpseo_focuskw: ''\n  _yoast_wpseo_title: ''\n  _yoast_wpseo_metadesc: ''\n  _yoast_wpseo_meta-robots-noindex: '0'\n  _yoast_wpseo_meta-robots-nofollow: '0'\n  _yoast_wpseo_meta-robots-adv: none\n  _yoast_wpseo_sitemap-include: '-'\n  _yoast_wpseo_sitemap-prio: '-'\n  _yoast_wpseo_canonical: ''\n  _yoast_wpseo_redirect: ''\n  _yoast_wpseo_opengraph-description: ''\n  _yoast_wpseo_google-plus-description: ''\n---\nIf you care about Web Performance Optimization, you will love Drupal 7: its core takes care of both aggregating and compressing your css and js files.\r\n<!--more-->\r\nIt's just a matter of enabling this option in the Configuration &gt; Performance section. Your site will load faster, serving gzipped files and reducing the number of http requests.\r\n\r\nHowever, if you - like me - run your website on a LightSpeed webserver, you could be facing some issues. While css and js are successfully served gzipped and work fine on most browsers (safari, chrome, ie, opera), on Firefox you could see a completely unstyled page, throwing js errors at you.\r\n\r\nChances are your LightSpeed webserver is already gzipping css and js files for you, and your .htaccess forces that as well.\r\n\r\nThe problem is easily fixable; just head towards the end of your .htaccess and look for this block of code:\r\n#Serve gzip compressed CSS files if they exist and the client accepts gzip.\r\nRewriteCond %{HTTP:Accept-encoding} gzip RewriteCond %{REQUEST_FILENAME}\\.gz -s\r\nRewriteRule ^(.*)\\.css $1\\.css\\.gz [QSA]\r\n# Serve gzip compressed JS files if they exist and the client accepts gzip.\r\nRewriteCond %{HTTP:Accept-encoding} gzip\r\nRewriteCond %{REQUEST_FILENAME}\\.gz -s\r\nRewriteRule ^(.*)\\.js $1\\.js\\.gz [QSA]\r\n# Serve correct content types, and prevent mod_deflate double gzip.\r\nRewriteRule \\.css\\.gz$ - [T=text/css,E=no-gzip:1]\r\nRewriteRule \\.js\\.gz$ - [T=text/javascript,E=no-gzip:1]\r\n\r\n# Serve correct encoding type.\r\nHeader append Content-Encoding gzip\r\n# Force proxies to cache gzipped &amp; non-gzipped css/js files separately.\r\nHeader append Vary Accept-Encoding\r\n\r\nComment it and you're done ;)\r\nIf you are still having problems, check your css and js headers with Firebug and verify that files are being gzipped.\r\n\r\nYou can find other interesting ideas about this topic at Aggregate and compress CSS files\" and \"Aggregate JavaScript files\" in performance settings, is not working on drupal.org.\n"]],"start1":0,"start2":0,"length1":0,"length2":2641}]],"length":2641}
{"contributors":[],"silentsave":false,"ts":1375106279733,"patch":[[{"diffs":[[0,":\n- "],[-1,"Blog\n- "],[0,""],[1,""],[0,"drup"]],"start1":74,"start2":74,"length1":15,"length2":8},{"diffs":[[0,"rue\n"],[-1,"meta:\n  _edit_last: '1'\n  _responsive_layout: default\n  _wp_old_slug: marco\n  _yoast_wpseo_linkdex: '0'\n  _yoast_wpseo_focuskw: ''\n  _yoast_wpseo_title: ''\n  _yoast_wpseo_metadesc: ''\n  _yoast_wpseo_meta-robots-noindex: '0'\n  _yoast_wpseo_meta-robots-nofollow: '0'\n  _yoast_wpseo_meta-robots-adv: none\n  _yoast_wpseo_sitemap-include: '-'\n  _yoast_wpseo_sitemap-prio: '-'\n  _yoast_wpseo_canonical: ''\n  _yoast_wpseo_redirect: ''\n  _yoast_wpseo_opengraph-description: ''\n  _yoast_wpseo_google-plus-description: ''\n"],[0,"---"],[1,"\n"],[0,"\nIf "]],"start1":138,"start2":138,"length1":523,"length2":12},{"diffs":[[0,"s files."],[-1,"\r"],[0,"\n<!--mor"]],"start1":289,"start2":289,"length1":17,"length2":16},{"diffs":[[0,"-more-->"],[-1,"\r"],[0,"\nIt's ju"]],"start1":301,"start2":301,"length1":17,"length2":16},{"diffs":[[0,"equests."],[-1,"\r\n\r"],[1,"\n"],[0,"\nHowever"]],"start1":483,"start2":483,"length1":19,"length2":17},{"diffs":[[0," at you."],[-1,"\r\n\r"],[1,"\n"],[0,"\nChances"]],"start1":778,"start2":778,"length1":19,"length2":17},{"diffs":[[0,"as well."],[-1,"\r\n\r"],[1,"\n"],[0,"\nThe pro"]],"start1":903,"start2":903,"length1":19,"length2":17},{"diffs":[[0,"of code:"],[-1,"\r"],[0,"\n#Serve "]],"start1":1012,"start2":1012,"length1":17,"length2":16},{"diffs":[[0,"nt accepts gzip."],[-1,"\r"],[0,"\nRewriteCond %{H"]],"start1":1080,"start2":1080,"length1":33,"length2":32},{"diffs":[[0,"FILENAME}\\.gz -s"],[-1,"\r"],[0,"\nRewriteRule ^(."]],"start1":1160,"start2":1160,"length1":33,"length2":32},{"diffs":[[0,"1\\.css\\.gz [QSA]"],[-1,"\r"],[0,"\n# Serve gzip co"]],"start1":1201,"start2":1201,"length1":33,"length2":32},{"diffs":[[0,"ccepts gzip."],[-1,"\r"],[0,"\nRewriteCond"]],"start1":1281,"start2":1281,"length1":25,"length2":24},{"diffs":[[0,"ng} gzip"],[-1,"\r"],[0,"\nRewrite"]],"start1":1326,"start2":1326,"length1":17,"length2":16},{"diffs":[[0,"}\\.gz -s"],[-1,"\r"],[0,"\nRewrite"]],"start1":1365,"start2":1365,"length1":17,"length2":16},{"diffs":[[0,"gz [QSA]"],[-1,"\r"],[0,"\n# Serve"]],"start1":1404,"start2":1404,"length1":17,"length2":16},{"diffs":[[0,"le gzip."],[-1,"\r"],[0,"\nRewrite"]],"start1":1472,"start2":1472,"length1":17,"length2":16},{"diffs":[[0,"-gzip:1]"],[-1,"\r"],[0,"\nRewrite"]],"start1":1522,"start2":1522,"length1":17,"length2":16},{"diffs":[[0,"-gzip:1]"],[-1,"\r\n\r"],[1,"\n"],[0,"\n# Serve"]],"start1":1578,"start2":1578,"length1":19,"length2":17},{"diffs":[[0,"ng type."],[-1,"\r"],[0,"\nHeader "]],"start1":1610,"start2":1610,"length1":17,"length2":16},{"diffs":[[0,"ing gzip"],[-1,"\r"],[0,"\n# Force"]],"start1":1646,"start2":1646,"length1":17,"length2":16},{"diffs":[[0,"arately."],[-1,"\r"],[0,"\nHeader "]],"start1":1722,"start2":1722,"length1":17,"length2":16},{"diffs":[[0,"Encoding"],[-1,"\r\n\r"],[1,"\n"],[0,"\nComment"]],"start1":1757,"start2":1757,"length1":19,"length2":17},{"diffs":[[0," done ;)"],[-1,"\r"],[0,"\nIf you "]],"start1":1788,"start2":1788,"length1":17,"length2":16},{"diffs":[[0,"ped."],[-1,"\r\n\r"],[1,"\n"],[0,"\nYou"]],"start1":1910,"start2":1910,"length1":11,"length2":9}]],"length":2095,"saved":false}
